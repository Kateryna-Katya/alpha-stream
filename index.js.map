{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // --- 0. GLOBAL SETUP ---\n    gsap.registerPlugin(ScrollTrigger, TextPlugin);\n\n    // Smooth Scroll (Lenis)\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        smooth: true\n    });\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // Header Scroll Effect\n    const header = document.querySelector('.header');\n    window.addEventListener('scroll', () => {\n        if (window.scrollY > 50) {\n            header.classList.add('header--scrolled');\n        } else {\n            header.classList.remove('header--scrolled');\n        }\n    });\n\n\n    // --- 1. HERO SECTION ANIMATION ---\n\n    // 1.1 GSAP Content Reveal & Text Scramble\n    const heroTl = gsap.timeline({ defaults: { ease: \"power3.out\" } });\n    const scrambleText = document.querySelector('.scramble-text');\n    const finalHeadline = scrambleText.innerHTML; // Сохраняем финальный HTML с вложенным спаном\n\n    gsap.set(scrambleText, { visibility: 'visible' });\n\n    heroTl\n        // Эффект \"взлома\" текста. Используем delimiter: \" \" чтобы не ломать HTML теги внутри\n        .to(scrambleText, {\n            duration: 2.5,\n            text: {\n                value: finalHeadline,\n                delimiter: \"\", // Scramble по буквам\n                scrambleText: {\n                    text: finalHeadline,\n                    chars: \"01_X$#@!-[]░▒▓█\", // Хакерские символы\n                    revealDelay: 0.5,\n                    speed: 0.3,\n                }\n            },\n        })\n        // Появление подзаголовка и кнопок\n        .to(['.hero__subtitle', '.hero__actions'], {\n            y: 0,\n            opacity: 1,\n            duration: 1,\n            stagger: 0.2\n        }, \"-=1.5\"); // Начинаем чуть раньше окончания скрамбла\n\n\n    // 1.2 Three.js Interactive Grid Background\n    function initThreeJsBackground() {\n        const canvas = document.querySelector('#hero-canvas');\n        if (!canvas) return;\n\n        const scene = new THREE.Scene();\n        // Темно-синий туман для глубины\n        scene.fog = new THREE.FogExp2(0x0a0b10, 0.0015); \n\n        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n        camera.position.z = 400;\n\n        const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true, antialias: true });\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n\n        // --- Particles & Lines Geometry ---\n        const particleCount = 150; // Количество точек\n        const particles = new THREE.BufferGeometry();\n        const positions = new Float32Array(particleCount * 3);\n        const originalPositions = new Float32Array(particleCount * 3); // Для возврата в исходное положение\n\n        // Генерация случайных позиций в объеме\n        for (let i = 0; i < particleCount * 3; i += 3) {\n            const x = Math.random() * 800 - 400;\n            const y = Math.random() * 800 - 400;\n            const z = Math.random() * 800 - 400;\n            positions[i] = x;\n            positions[i + 1] = y;\n            positions[i + 2] = z;\n            originalPositions[i] = x;\n            originalPositions[i + 1] = y;\n            originalPositions[i + 2] = z;\n        }\n        particles.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n\n        // Материал для точек\n        const particleMaterial = new THREE.PointsMaterial({\n            color: 0x3b82f6, // Primary blue\n            size: 4,\n            transparent: true,\n            opacity: 0.8,\n            blending: THREE.AdditiveBlending\n        });\n        const particleSystem = new THREE.Points(particles, particleMaterial);\n        scene.add(particleSystem);\n\n        // Материал для линий\n        const lineMaterial = new THREE.LineBasicMaterial({\n            color: 0x10b981, // Accent emerald\n            transparent: true,\n            opacity: 0.15\n        });\n        // Геометрия линий (будет обновляться в цикле)\n        const lineGeometry = new THREE.BufferGeometry();\n        const linePositions = new Float32Array(particleCount * particleCount * 3); // Макс. кол-во связей\n        lineGeometry.setAttribute('position', new THREE.BufferAttribute(linePositions, 3));\n        const lines = new THREE.LineSegments(lineGeometry, lineMaterial);\n        scene.add(lines);\n\n\n        // --- Mouse Interaction ---\n        let mouseX = 0;\n        let mouseY = 0;\n        let targetX = 0;\n        let targetY = 0;\n        const windowHalfX = window.innerWidth / 2;\n        const windowHalfY = window.innerHeight / 2;\n\n        document.addEventListener('mousemove', (event) => {\n            mouseX = (event.clientX - windowHalfX);\n            mouseY = (event.clientY - windowHalfY);\n        });\n\n        // --- Animation Loop ---\n        function animate() {\n            requestAnimationFrame(animate);\n\n            targetX = mouseX * 0.001;\n            targetY = mouseY * 0.001;\n\n            // Легкое вращение всей системы от мыши\n            particleSystem.rotation.y += 0.002 + (targetX - particleSystem.rotation.y) * 0.05;\n            particleSystem.rotation.x += (targetY - particleSystem.rotation.x) * 0.05;\n            lines.rotation.copy(particleSystem.rotation);\n\n            const positions = particleSystem.geometry.attributes.position.array;\n            const linePositions = lines.geometry.attributes.position.array;\n            let lineIndex = 0;\n            let connections = 0;\n            \n            // Обновление позиций точек (волновой эффект)\n            for (let i = 0; i < particleCount; i++) {\n                const i3 = i * 3;\n                // Небольшое движение \"дыхания\"\n                positions[i3 + 1] = originalPositions[i3 + 1] + Math.sin((Date.now() * 0.001 + originalPositions[i3] * 0.01)) * 20;\n                \n                // Создание связей между близкими точками\n                for (let j = i + 1; j < particleCount; j++) {\n                    const j3 = j * 3;\n                    const dx = positions[i3] - positions[j3];\n                    const dy = positions[i3 + 1] - positions[j3 + 1];\n                    const dz = positions[i3 + 2] - positions[j3 + 2];\n                    const dist = Math.sqrt(dx*dx + dy*dy + dz*dz);\n\n                    if (dist < 120) { // Дистанция соединения\n                        linePositions[lineIndex++] = positions[i3];\n                        linePositions[lineIndex++] = positions[i3 + 1];\n                        linePositions[lineIndex++] = positions[i3 + 2];\n                        linePositions[lineIndex++] = positions[j3];\n                        linePositions[lineIndex++] = positions[j3 + 1];\n                        linePositions[lineIndex++] = positions[j3 + 2];\n                        connections++;\n                    }\n                }\n            }\n            \n            particleSystem.geometry.attributes.position.needsUpdate = true;\n            lines.geometry.setDrawRange(0, connections * 2);\n            lines.geometry.attributes.position.needsUpdate = true;\n\n            renderer.render(scene, camera);\n        }\n\n        // --- Resize Handler ---\n        window.addEventListener('resize', () => {\n            camera.aspect = window.innerWidth / window.innerHeight;\n            camera.updateProjectionMatrix();\n            renderer.setSize(window.innerWidth, window.innerHeight);\n        });\n\n        animate();\n    }\n\n    // Запуск Three.js только на десктопах для производительности, или упростить для мобильных\n    if (window.innerWidth > 768) {\n       initThreeJsBackground();\n    } else {\n        // Фоллбэк для мобильных (можно заменить на статичную картинку в CSS)\n        document.querySelector('#hero-canvas').style.background = 'radial-gradient(circle at center, #141620 0%, #0a0b10 70%)';\n    }\n\n   // --- 2. UNIVERSAL SCRAMBLE FOR ALL SECTIONS ---\n    // Ищем все элементы .scramble-text, КРОМЕ уже анимированного в Hero\n    const otherScrambleTexts = document.querySelectorAll('.scramble-text:not(.hero__title)');\n\n    otherScrambleTexts.forEach(textElement => {\n        const finalContent = textElement.innerHTML;\n        \n        // Скрываем текст до начала анимации\n        gsap.set(textElement, { opacity: 0 });\n\n        ScrollTrigger.create({\n            trigger: textElement,\n            start: \"top 85%\", // Запуск, когда заголовок внизу экрана\n            onEnter: () => {\n                gsap.set(textElement, { opacity: 1 });\n                gsap.to(textElement, {\n                    duration: 1.5,\n                    text: {\n                        value: finalContent,\n                        delimiter: \"\",\n                        scrambleText: {\n                            text: finalContent,\n                            chars: \"01_X$#@!-[]░▒▓█\",\n                            revealDelay: 0.2,\n                            speed: 0.4,\n                        }\n                    }\n                });\n            }\n        });\n    });\n\n    // Анимация терминала (легкое парение)\n    gsap.to('.terminal', {\n        y: -15,\n        duration: 3,\n        repeat: -1,\n        yoyo: true,\n        ease: \"power1.inOut\"\n    });\n    // --- 3. BENEFITS SPOTLIGHT EFFECT ---\n    const cards = document.querySelectorAll('.benefit-card');\n    \n    cards.forEach(card => {\n        card.addEventListener('mousemove', e => {\n            const rect = card.getBoundingClientRect();\n            const x = e.clientX - rect.left;\n            const y = e.clientY - rect.top;\n\n            card.style.setProperty('--mouse-x', `${x}px`);\n            card.style.setProperty('--mouse-y', `${y}px`);\n        });\n    });\n\n    // Анимация появления карточек (Stagger)\n    gsap.from('.benefit-card', {\n        scrollTrigger: {\n            trigger: '.benefits__grid',\n            start: 'top 80%'\n        },\n        y: 50,\n        opacity: 0,\n        duration: 0.8,\n        stagger: 0.15,\n        ease: \"power2.out\"\n    });\n});"],"names":["lenis","t","raf","time","header","heroTl","scrambleText","finalHeadline","initThreeJsBackground","canvas","scene","camera","renderer","particleCount","particles","positions","originalPositions","i","x","y","z","particleMaterial","particleSystem","lineMaterial","lineGeometry","linePositions","lines","mouseX","mouseY","targetX","targetY","windowHalfX","windowHalfY","event","animate","lineIndex","connections","i3","j","j3","dx","dy","dz","textElement","finalContent","card","e","rect"],"mappings":"0uBAAA,SAAS,iBAAiB,mBAAoB,IAAM,CAGhD,KAAK,eAAe,cAAe,UAAU,EAG7C,MAAMA,EAAQ,IAAI,MAAM,CACpB,SAAU,IACV,OAASC,GAAM,KAAK,IAAI,EAAG,MAAQ,KAAK,IAAI,EAAG,IAAMA,CAAC,CAAC,EACvD,OAAQ,EAChB,CAAK,EACD,SAASC,EAAIC,EAAM,CACfH,EAAM,IAAIG,CAAI,EACd,sBAAsBD,CAAG,CACjC,CACI,sBAAsBA,CAAG,EAGzB,MAAME,EAAS,SAAS,cAAc,SAAS,EAC/C,OAAO,iBAAiB,SAAU,IAAM,CAChC,OAAO,QAAU,GACjBA,EAAO,UAAU,IAAI,kBAAkB,EAEvCA,EAAO,UAAU,OAAO,kBAAkB,CAEtD,CAAK,EAMD,MAAMC,EAAS,KAAK,SAAS,CAAE,SAAU,CAAE,KAAM,YAAY,EAAI,EAC3DC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAgBD,EAAa,UAEnC,KAAK,IAAIA,EAAc,CAAE,WAAY,SAAS,CAAE,EAEhDD,EAEK,GAAGC,EAAc,CACd,SAAU,IACV,KAAM,CACF,MAAOC,EACP,UAAW,GACX,aAAc,CACV,KAAMA,EACN,MAAO,kBACP,YAAa,GACb,MAAO,EAC3B,CACa,CACJ,CAAA,EAEA,GAAG,CAAC,kBAAmB,gBAAgB,EAAG,CACvC,EAAG,EACH,QAAS,EACT,SAAU,EACV,QAAS,EACZ,EAAE,OAAO,EAId,SAASC,GAAwB,CAC7B,MAAMC,EAAS,SAAS,cAAc,cAAc,EACpD,GAAI,CAACA,EAAQ,OAEb,MAAMC,EAAQ,IAAI,MAAM,MAExBA,EAAM,IAAM,IAAI,MAAM,QAAQ,OAAU,KAAM,EAE9C,MAAMC,EAAS,IAAI,MAAM,kBAAkB,GAAI,OAAO,WAAa,OAAO,YAAa,GAAK,GAAI,EAChGA,EAAO,SAAS,EAAI,IAEpB,MAAMC,EAAW,IAAI,MAAM,cAAc,CAAE,OAAQH,EAAQ,MAAO,GAAM,UAAW,EAAI,CAAE,EACzFG,EAAS,QAAQ,OAAO,WAAY,OAAO,WAAW,EACtDA,EAAS,cAAc,KAAK,IAAI,OAAO,iBAAkB,CAAC,CAAC,EAG3D,MAAMC,EAAgB,IAChBC,EAAY,IAAI,MAAM,eACtBC,EAAY,IAAI,aAAaF,EAAgB,CAAC,EAC9CG,EAAoB,IAAI,aAAaH,EAAgB,CAAC,EAG5D,QAASI,EAAI,EAAGA,EAAIJ,EAAgB,EAAGI,GAAK,EAAG,CAC3C,MAAMC,EAAI,KAAK,OAAQ,EAAG,IAAM,IAC1BC,EAAI,KAAK,OAAQ,EAAG,IAAM,IAC1BC,EAAI,KAAK,OAAQ,EAAG,IAAM,IAChCL,EAAUE,CAAC,EAAIC,EACfH,EAAUE,EAAI,CAAC,EAAIE,EACnBJ,EAAUE,EAAI,CAAC,EAAIG,EACnBJ,EAAkBC,CAAC,EAAIC,EACvBF,EAAkBC,EAAI,CAAC,EAAIE,EAC3BH,EAAkBC,EAAI,CAAC,EAAIG,CACvC,CACQN,EAAU,aAAa,WAAY,IAAI,MAAM,gBAAgBC,EAAW,CAAC,CAAC,EAG1E,MAAMM,EAAmB,IAAI,MAAM,eAAe,CAC9C,MAAO,QACP,KAAM,EACN,YAAa,GACb,QAAS,GACT,SAAU,MAAM,gBAC5B,CAAS,EACKC,EAAiB,IAAI,MAAM,OAAOR,EAAWO,CAAgB,EACnEX,EAAM,IAAIY,CAAc,EAGxB,MAAMC,EAAe,IAAI,MAAM,kBAAkB,CAC7C,MAAO,QACP,YAAa,GACb,QAAS,GACrB,CAAS,EAEKC,EAAe,IAAI,MAAM,eACzBC,EAAgB,IAAI,aAAaZ,EAAgBA,EAAgB,CAAC,EACxEW,EAAa,aAAa,WAAY,IAAI,MAAM,gBAAgBC,EAAe,CAAC,CAAC,EACjF,MAAMC,EAAQ,IAAI,MAAM,aAAaF,EAAcD,CAAY,EAC/Db,EAAM,IAAIgB,CAAK,EAIf,IAAIC,EAAS,EACTC,EAAS,EACTC,EAAU,EACVC,EAAU,EACd,MAAMC,EAAc,OAAO,WAAa,EAClCC,EAAc,OAAO,YAAc,EAEzC,SAAS,iBAAiB,YAAcC,GAAU,CAC9CN,EAAUM,EAAM,QAAUF,EAC1BH,EAAUK,EAAM,QAAUD,CACtC,CAAS,EAGD,SAASE,GAAU,CACf,sBAAsBA,CAAO,EAE7BL,EAAUF,EAAS,KACnBG,EAAUF,EAAS,KAGnBN,EAAe,SAAS,GAAK,MAASO,EAAUP,EAAe,SAAS,GAAK,IAC7EA,EAAe,SAAS,IAAMQ,EAAUR,EAAe,SAAS,GAAK,IACrEI,EAAM,SAAS,KAAKJ,EAAe,QAAQ,EAE3C,MAAMP,EAAYO,EAAe,SAAS,WAAW,SAAS,MACxDG,EAAgBC,EAAM,SAAS,WAAW,SAAS,MACzD,IAAIS,EAAY,EACZC,EAAc,EAGlB,QAASnB,EAAI,EAAGA,EAAIJ,EAAeI,IAAK,CACpC,MAAMoB,EAAKpB,EAAI,EAEfF,EAAUsB,EAAK,CAAC,EAAIrB,EAAkBqB,EAAK,CAAC,EAAI,KAAK,IAAK,KAAK,IAAG,EAAK,KAAQrB,EAAkBqB,CAAE,EAAI,GAAI,EAAK,GAGhH,QAASC,EAAIrB,EAAI,EAAGqB,EAAIzB,EAAeyB,IAAK,CACxC,MAAMC,EAAKD,EAAI,EACTE,EAAKzB,EAAUsB,CAAE,EAAItB,EAAUwB,CAAE,EACjCE,EAAK1B,EAAUsB,EAAK,CAAC,EAAItB,EAAUwB,EAAK,CAAC,EACzCG,EAAK3B,EAAUsB,EAAK,CAAC,EAAItB,EAAUwB,EAAK,CAAC,EAClC,KAAK,KAAKC,EAAGA,EAAKC,EAAGA,EAAKC,EAAGA,CAAE,EAEjC,MACPjB,EAAcU,GAAW,EAAIpB,EAAUsB,CAAE,EACzCZ,EAAcU,GAAW,EAAIpB,EAAUsB,EAAK,CAAC,EAC7CZ,EAAcU,GAAW,EAAIpB,EAAUsB,EAAK,CAAC,EAC7CZ,EAAcU,GAAW,EAAIpB,EAAUwB,CAAE,EACzCd,EAAcU,GAAW,EAAIpB,EAAUwB,EAAK,CAAC,EAC7Cd,EAAcU,GAAW,EAAIpB,EAAUwB,EAAK,CAAC,EAC7CH,IAExB,CACA,CAEYd,EAAe,SAAS,WAAW,SAAS,YAAc,GAC1DI,EAAM,SAAS,aAAa,EAAGU,EAAc,CAAC,EAC9CV,EAAM,SAAS,WAAW,SAAS,YAAc,GAEjDd,EAAS,OAAOF,EAAOC,CAAM,CACzC,CAGQ,OAAO,iBAAiB,SAAU,IAAM,CACpCA,EAAO,OAAS,OAAO,WAAa,OAAO,YAC3CA,EAAO,uBAAwB,EAC/BC,EAAS,QAAQ,OAAO,WAAY,OAAO,WAAW,CAClE,CAAS,EAEDsB,EAAS,CACjB,CAGQ,OAAO,WAAa,IACrB1B,EAAuB,EAGtB,SAAS,cAAc,cAAc,EAAE,MAAM,WAAa,6DAKnC,SAAS,iBAAiB,kCAAkC,EAEpE,QAAQmC,GAAe,CACtC,MAAMC,EAAeD,EAAY,UAGjC,KAAK,IAAIA,EAAa,CAAE,QAAS,CAAC,CAAE,EAEpC,cAAc,OAAO,CACjB,QAASA,EACT,MAAO,UACP,QAAS,IAAM,CACX,KAAK,IAAIA,EAAa,CAAE,QAAS,CAAC,CAAE,EACpC,KAAK,GAAGA,EAAa,CACjB,SAAU,IACV,KAAM,CACF,MAAOC,EACP,UAAW,GACX,aAAc,CACV,KAAMA,EACN,MAAO,kBACP,YAAa,GACb,MAAO,EACnC,CACA,CACA,CAAiB,CACjB,CACA,CAAS,CACT,CAAK,EAGD,KAAK,GAAG,YAAa,CACjB,EAAG,IACH,SAAU,EACV,OAAQ,GACR,KAAM,GACN,KAAM,cACd,CAAK,EAEa,SAAS,iBAAiB,eAAe,EAEjD,QAAQC,GAAQ,CAClBA,EAAK,iBAAiB,YAAaC,GAAK,CACpC,MAAMC,EAAOF,EAAK,sBAAuB,EACnC3B,EAAI4B,EAAE,QAAUC,EAAK,KACrB5B,EAAI2B,EAAE,QAAUC,EAAK,IAE3BF,EAAK,MAAM,YAAY,YAAa,GAAG3B,CAAC,IAAI,EAC5C2B,EAAK,MAAM,YAAY,YAAa,GAAG1B,CAAC,IAAI,CACxD,CAAS,CACT,CAAK,EAGD,KAAK,KAAK,gBAAiB,CACvB,cAAe,CACX,QAAS,kBACT,MAAO,SACV,EACD,EAAG,GACH,QAAS,EACT,SAAU,GACV,QAAS,IACT,KAAM,YACd,CAAK,CACL,CAAC"}